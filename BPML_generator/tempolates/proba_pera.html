<!DOCTYPE html>
<html>
<head>
    <title>Запись голоса</title>
</head>
<body>
    
    <h1>Запись голоса</h1>
    <button id="startRecord">Начать запись</button>
    <button id="stopRecord" disabled>Остановить запись</button>
    <audio id="audioPlayer" controls></audio>
    <a id="downloadLink" style="display: none;">Скачать запись</a>



<script>// script.js
    const startBtn = document.getElementById('startRecord');
    const stopBtn = document.getElementById('stopRecord');
    const audioPlayer = document.getElementById('audioPlayer');
    const downloadLink = document.getElementById('downloadLink');
    
    let mediaRecorder;
    let audioChunks = [];
    
    // Запрос разрешения на микрофон и начало записи
    startBtn.addEventListener('click', async () => {
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            mediaRecorder = new MediaRecorder(stream);
            
            mediaRecorder.ondataavailable = event => {
                audioChunks.push(event.data);
            };
            
            mediaRecorder.onstop = () => {
                const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                const audioUrl = URL.createObjectURL(audioBlob);
                audioPlayer.src = audioUrl;
                
                // Создание ссылки для скачивания
                downloadLink.href = audioUrl;
                downloadLink.download = 'recorded_audio.wav';
                downloadLink.style.display = 'block';
            };
            
            mediaRecorder.start();
            startBtn.disabled = true;
            stopBtn.disabled = false;
            audioChunks = [];
        } catch (error) {
            console.error('Ошибка доступа к микрофону:', error);
            alert('Не удалось получить доступ к микрофону');
        }
    });
    
    // Остановка записи
    stopBtn.addEventListener('click', () => {
        mediaRecorder.stop();
        startBtn.disabled = false;
        stopBtn.disabled = true;
    });
</script>

</body>
</html>


<!DOCTYPE html>
{% load static %}
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeepSeek Chat Frontend</title>
    <link rel="stylesheet" href="{% static 'css/styles.css'%}" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="chat-container">
        <header class="chat-header">
            <div class="logo">
                <i class="fas fa-robot"></i>
                <h1>DeepSeek Chat</h1>
            </div>
            <div class="model-info">Model: DeepSeek-V3</div>
        </header>

        <div class="chat-messages" id="chatMessages">
            <!-- Сообщения будут добавляться сюда -->
            <div class="message bot-message">
                <div class="message-content">
                    Привет! Я DeepSeek Chat. Чем могу помочь?
                </div>
            </div>
        </div>

        <div class="chat-input">
            <textarea id="userInput" placeholder="Введите ваше сообщение..." rows="1"></textarea>
            <button id="sendButton"><i class="fas fa-paper-plane"></i></button>
        </div>

    </div>

    <script src='{% static "js/script.js" %}'></script>
</body>
</html>